<?xml version='1.0' encoding='UTF-8'?>
<rss version='2.0' xmlns:atom='http://www.w3.org/2005/Atom'>
<channel>
<atom:link href='http://tales.sveri.de/' rel='self' type='application/rss+xml'/>
<generator>
clj-rss
</generator>
<title>
Sveris Tales
</title>
<link>
http://tales.sveri.de/
</link>
<description>
Everything about everything
</description>
<lastBuildDate>
Mon, 04 Jul 2016 22:40:32 +0200
</lastBuildDate>
<item>
<guid>
http://tales.sveri.de/posts/2016-07-04-phoenix-spring-sails.html
</guid>
<link>
http://tales.sveri.de/posts/2016-07-04-phoenix-spring-sails.html
</link>
<title>
Phoenix vs Spring Boot vs Sails.js performance comparison
</title>
<description>
 &lt;p&gt; Working on a project where I consume an API which I plan to use from   browsers for instance I was trying out spring boot. I liked the development   speed, the documentation and everything in general.&lt;br /&gt;  However, I was wondering how fast it is, given that I want fast user feedback. Searching for speed and frameworks you will naturally find a link to phoenix any time soon.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;So what I did was to &lt;/p&gt;&lt;ol&gt;&lt;li&gt;Build my application based on spring boot&lt;/li&gt;&lt;li&gt;Build an elixir api with one rest endpoint targeting the same database&lt;/li&gt;&lt;li&gt;Build a sails.js api with one rest endpoint targeting the same database&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;From an application perspective sails.js and phoenix are almost the same as I just started out like described in the docs and only added that one  rest api endpoint.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Spring boot is a bit different as I also provide login / register and some templates.&lt;br /&gt; For the comparison purpose I also added that one rest endpoint without having to login.&lt;br /&gt; &lt;strong&gt;Update&lt;/strong&gt; Please note that while the spring boot controller contains an endpoint to persist data I did not use that during the test.&lt;/p&gt;&lt;p&gt;All three applications offer this endpoint: &lt;code&gt;/api/browserlink&lt;/code&gt; which uses the internal model layer:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Spring boot - Hibernate&lt;/li&gt;&lt;li&gt;Elixir - Ecto&lt;/li&gt;&lt;li&gt;Sails.js - Waterlin&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;so, whatever comes with the framework.&lt;/p&gt;&lt;p&gt;Also all three applications connect to the same database and query the same table, whereas the call is limited to 50.&lt;br /&gt; I made it so that I can leave out the database as a parameter.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;setup&quot;&gt;&lt;/a&gt;Setup&lt;/h2&gt;&lt;p&gt;The applications run in docker container. I looked at dockerhub and picked up the appropriate ones by looking which exist for java, elixir and node js.&lt;br /&gt; So most probably they run within different OS (debian / ubuntu).&lt;br /&gt; But the containers run on the same hardware which is a i3770 and 16 GB RAM.&lt;/p&gt;&lt;p&gt;I looked for the production setup instructions and applied them as written in the documentation, no further fine tuning was done.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;results&quot;&gt;&lt;/a&gt;Results&lt;/h2&gt;&lt;p&gt;Numbers are in milliseconds if not noted otherwise.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;phoenix&quot;&gt;&lt;/a&gt;Phoenix&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Thread - Repetitions      Mean       Median      Error  

1 - 1000                  74         68          0
10 - 100                  120        105         0
100 - 10                  905        622         0
1000 - 10                 6883       4397        22.19%
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here are the complete results: &lt;a href=&quot;/img/elixir.png&quot; target=&quot;_blank&quot;&gt;Elixir&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;sails.js&quot;&gt;&lt;/a&gt;Sails.js&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Thread - Repetitions      Mean       Median      Error  

1 - 1000                  136        125         0
10 - 100                  158        141         0
100 - 10                  1003       795         0
1000 - 10                 8321       4685        6.72%
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here are the complete results: &lt;a href=&quot;/img/sailsjs.png&quot; target=&quot;_blank&quot;&gt;Sailsjs&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;spring&amp;#95;boot&quot;&gt;&lt;/a&gt;Spring Boot&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Thread - Repetitions      Mean       Median      Error  

1 - 1000                  196        188         0
10 - 100                  250        246         0
100 - 10                  2579       2313        0
1000 - 10                 7631       5712        60.87%
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here are the complete results: &lt;a href=&quot;/img/sailsjs.png&quot; target=&quot;_blank&quot;&gt;Spring Boot&lt;/a&gt;&lt;/p&gt;&lt;p&gt;What surprised me the most is that spring boot has the worst performance here.&lt;/p&gt;&lt;p&gt;I expected elixir to be the fastest, having read so much about its speed, but that sailsjs comes close, especially with 10 and 100 concurrent connections was another suprise. &lt;/p&gt;&lt;p&gt;On the other hand I was watching the CPU saturation during the tests and I never reached full saturation.&lt;/p&gt;&lt;p&gt;Somehow when using 1000 concurrent connections I get a lot of drops. I am not sure what exactly the problem here is, but I wont investigate further for now.&lt;br /&gt; I guess if I resolved these problems I would get some better numbers fully utilizing the CPU.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;code&quot;&gt;&lt;/a&gt;Code&lt;/h3&gt;&lt;p&gt;These are the commits to the projects that I ran the tests on&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Spring Boot: &lt;a href=&quot;https://github.com/sveri/historify-spring-backend/tree/f890af4d76c85b7b57aad770d599c2a83fec18be&quot;&gt;https://github.com/sveri/historify-spring-backend/tree/f890af4d76c85b7b57aad770d599c2a83fec18be&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Phoenix: &lt;a href=&quot;https://github.com/sveri/phoenix-historify-api/tree/b510b5a744720c74e007723e2ce89576b5619dc9&quot;&gt;https://github.com/sveri/phoenix-historify-api/tree/b510b5a744720c74e007723e2ce89576b5619dc9&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Sailsjs: &lt;a href=&quot;https://github.com/sveri/sailsjs-historify-api/tree/a74001dc50919728e236ff8c2274486d28da9d36&quot;&gt;https://github.com/sveri/sailsjs-historify-api/tree/a74001dc50919728e236ff8c2274486d28da9d36&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Whereas the relevant api entrypoints can be found here:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Spring Boot: &lt;a href=&quot;https://github.com/sveri/historify-spring-backend/blob/f890af4d76c85b7b57aad770d599c2a83fec18be/src/main/java/de/sveri/historify/controller/rest/HistoryApi.java&quot;&gt;https://github.com/sveri/historify-spring-backend/blob/f890af4d76c85b7b57aad770d599c2a83fec18be/src/main/java/de/sveri/historify/controller/rest/HistoryApi.java&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Phoenix: &lt;a href=&quot;https://github.com/sveri/phoenix-historify-api/blob/b510b5a744720c74e007723e2ce89576b5619dc9/web/controllers/browser&lt;i&gt;link&lt;/i&gt;controller.ex&quot;&gt;https://github.com/sveri/phoenix-historify-api/blob/b510b5a744720c74e007723e2ce89576b5619dc9/web/controllers/browser&lt;i&gt;link&lt;/i&gt;controller.ex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Sailsjs: &lt;a href=&quot;https://github.com/sveri/sailsjs-historify-api/blob/a74001dc50919728e236ff8c2274486d28da9d36/api/controllers/BrowserLinkController.js&quot;&gt;https://github.com/sveri/sailsjs-historify-api/blob/a74001dc50919728e236ff8c2274486d28da9d36/api/controllers/BrowserLinkController.js&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;If anybody has any tips on improving the performance I am happy to rerun the tests and update the results / code.&lt;/p&gt;
</description>
<pubDate>
Mon, 04 Jul 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2016-06-12-Spring-GenericFilterBean-Autowired.html
</guid>
<link>
http://tales.sveri.de/posts/2016-06-12-Spring-GenericFilterBean-Autowired.html
</link>
<title>
Using @Autowired in a GenericFilterBean
</title>
<description>
 &lt;p&gt; Today I wanted to autowire a component into a GenericFilterBean. It did not work,  the autowired object was null all the time. What finally helped was to skim  through github and look how others did it.   This is the solution.  &lt;/p&gt; &lt;p&gt; GenericFilterBean:  &lt;/p&gt;&lt;pre&gt;&lt;code&gt; public class JwtFilter extends GenericFilterBean {
 	
 	@Autowired
 	private JwtHelper jwtHelper;
 
     @Override
     public void doFilter&amp;#40;final ServletRequest req,
                          final ServletResponse res,
                          final FilterChain chain&amp;#41; throws IOException, ServletException {         
     } 
 }
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt; First you need to create file: &lt;code&gt;context.xml&lt;/code&gt; in your resources. Here  you define the FilterBean you want to enable for autowiring.  &lt;/p&gt;&lt;pre&gt;&lt;code&gt; &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
 &amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
        xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
        xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
 	   					   http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;
 
     &amp;lt;bean id=&amp;quot;jwtFilter&amp;quot; class=&amp;quot;de.sveri.cleanercomm.filter.JwtFilter&amp;quot;/&amp;gt;
 
     &amp;lt;bean id=&amp;quot;jwtFilterRegistrationBean&amp;quot; class=&amp;quot;org.springframework.boot.context.embedded.FilterRegistrationBean&amp;quot;&amp;gt;
         &amp;lt;property name=&amp;quot;filter&amp;quot; ref=&amp;quot;jwtFilter&amp;quot;/&amp;gt;
         &amp;lt;property name=&amp;quot;enabled&amp;quot; value=&amp;quot;true&amp;quot; /&amp;gt;
     &amp;lt;/bean&amp;gt;
 
 &amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then you add this to your &lt;code&gt;Application&lt;/code&gt; as annotation:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;@SpringBootApplication
@ImportResource&amp;#40;&amp;quot;classpath:context.xml&amp;quot;&amp;#41;
public class Application {
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Any finally add the &lt;code&gt;@Component&lt;/code&gt; to your wired class:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;@Component
public class JwtHelper {
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Thats it. It seems that &lt;code&gt;GenericFilterBean&lt;/code&gt;s are somewhat special in this regard, at least it was not easy to find documentation for that.&lt;/p&gt;
</description>
<pubDate>
Sun, 12 Jun 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2016-05-28-clojure-spec.html
</guid>
<link>
http://tales.sveri.de/posts/2016-05-28-clojure-spec.html
</link>
<title>
Clojure Spec in Closp Crud
</title>
<description>
 &lt;p&gt;This week Rich Hickey announced the release of clojure.spec which is a new namespace in the clojure library. It aims to provide runtime contracts for clojure.&lt;/p&gt;&lt;p&gt;There is already a lot of great documentation available:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;About: http://clojure.org/about/spec&lt;/li&gt;&lt;li&gt;Guide: http://clojure.org/guides/spec&lt;/li&gt;&lt;li&gt;API: http://clojure.github.io/clojure/branch-master/clojure.spec-api.html&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;clojure.spec is part of the 1.9 release, of which currently 1.9.0-alpha3  is available. There is no timeframe of a final 1.9 release yet, so it  is all in a very early stage. However, considering this, the documentation is ready for primetime,  at least from my point of view.&lt;/p&gt;&lt;p&gt;To try things out, I took my crud library and converted it from schema to clojure.spec. The transition went pretty smooth with two problems I encountered.&lt;/p&gt;&lt;p&gt;The first one was a bug which is already fixed in alpha-3, so I wont go into detail here.&lt;/p&gt;&lt;p&gt;The second is a bit tougher one, at least for me. Consider this example:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;s/def ::foo string?&amp;#41;

&amp;#40;s/def ::column &amp;#40;s/keys :req-un &amp;#91;::foo&amp;#93;&amp;#41;&amp;#41;

&amp;#40;s/def ::columns &amp;#40;s/cat :col ::column&amp;#41;&amp;#41;

&amp;#40;s/fdef test-fn :args &amp;#40;s/cat :cols ::columns&amp;#41; :ret ::columns&amp;#41;
&amp;#40;defn test-fn &amp;#91;cols&amp;#93;
  &amp;#40;vec &amp;#40;remove #&amp;#40;= true &amp;#40;:autoinc %&amp;#41;&amp;#41; cols&amp;#41;&amp;#41;&amp;#41;


&amp;#40;s/instrument-all&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Running this: &lt;code&gt;&amp;#40;test-fn &amp;#91;{:foo &amp;quot;bar&amp;quot;}&amp;#93;&amp;#41;&lt;/code&gt; will result in this error:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;ExceptionInfo Call to #'de.sveri.clospcrud.s-play/test-fn did not conform to spec:
In: &amp;#91;0&amp;#93; val: &amp;#91;{:foo &amp;quot;bar&amp;quot;}&amp;#93; fails spec: :de.sveri.clospcrud.s-play/column at: &amp;#91;:args :cols :col&amp;#93; predicate: map?
:clojure.spec/args  &amp;#40;&amp;#91;{:foo &amp;quot;bar&amp;quot;}&amp;#93;&amp;#41;
  clojure.core/ex-info &amp;#40;core.clj:4617&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This error comes in different forms and hit me a few times: &lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;In: &amp;#91;0&amp;#93; val: &amp;#40;&amp;#91;{:name &amp;quot;age&amp;quot;, :type :int, :null false}&amp;#93;&amp;#41; fails at: &amp;#91;:args&amp;#93; predicate: &amp;#40;cat :cols :de.sveri.clospcrud.schema/columns&amp;#41;,  Extra input
:clojure.spec/args  &amp;#40;&amp;#91;{:name &amp;quot;age&amp;quot;, :type :int, :null false}&amp;#93;&amp;#41;
  clojure.core/ex-info &amp;#40;core.clj:4617&amp;#41;
 &lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;The reason is that you will have to wrap every &lt;code&gt;seq&lt;/code&gt; into &lt;code&gt;&amp;#40;s/spec ...&amp;#41;&lt;/code&gt;. At least thats my understanding, the docs talk about regex here and this is  where a personal brain disconnect comes from, which made it harder for me to recognize and fix the problem: &lt;a href=&quot;http://clojure.org/guides/spec#&lt;i&gt;sequences&quot;&gt;http://clojure.org/guides/spec#&lt;/i&gt;sequences&lt;/a&gt;. If you scroll down a bit you will find the explanation.&lt;/p&gt;&lt;p&gt;Long story short, the solution is this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;s/def ::foo string?&amp;#41;

&amp;#40;s/def ::column &amp;#40;s/keys :req-un &amp;#91;::foo&amp;#93;&amp;#41;&amp;#41;

&amp;#40;s/def ::columns &amp;#40;s/cat :col ::column&amp;#41;&amp;#41;

&amp;#40;s/fdef test-fn :args &amp;#40;s/cat :cols &amp;#40;s/spec ::columns&amp;#41;&amp;#41; :ret ::columns&amp;#41;
;                                  &amp;#94; Note the s/spec above

&amp;#40;defn test-fn &amp;#91;cols&amp;#93;
  &amp;#40;vec &amp;#40;remove #&amp;#40;= true &amp;#40;:autoinc %&amp;#41;&amp;#41; cols&amp;#41;&amp;#41;&amp;#41;


&amp;#40;s/instrument-all&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That said all in all I am very pleased so far. I always dreamed of a  official &lt;code&gt;schema&lt;/code&gt; library, and would not have thought it to come true so soon.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Special thanks to the cognitect team and everybody else working on that feature.&lt;/p&gt;&lt;p&gt;Here is some of my code that I switched from schema to spec:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;; schema
&amp;#40;def liqui-column &amp;#91;&amp;#40;s/one s/Keyword &amp;quot;name&amp;quot;&amp;#41;
                   &amp;#40;s/one &amp;#40;s/cond-pre s/Keyword &amp;#91;&amp;#40;s/one s/Keyword &amp;quot;texttype&amp;quot;&amp;#41; 
                   &amp;#40;s/one s/Num &amp;quot;size&amp;quot;&amp;#41;&amp;#93;&amp;#41; &amp;quot;type&amp;quot;&amp;#41;
                   &amp;#40;s/optional s/Keyword &amp;quot;attr1-type&amp;quot;&amp;#41;
                   &amp;#40;s/optional s/Any &amp;quot;attr1-value&amp;quot;&amp;#41;
                   s/Any&amp;#93;&amp;#41;

&amp;#40;def liqui-columns &amp;#91;liqui-column&amp;#93;&amp;#41;

&amp;#40;def liqui-entity-description {:name Str :columns liqui-columns}&amp;#41;

;;clojure.spec

&amp;#40;s/def ::name string?&amp;#41;

&amp;#40;s/def ::column &amp;#40;s/cat :keyword keyword?
                       :type &amp;#40;s/alt :keyword keyword?
                                    :varchar &amp;#40;s/spec &amp;#40;s/cat :keyword keyword? 
                                    :size number?&amp;#41;&amp;#41;&amp;#41;
                       :first-attr-type &amp;#40;s/? keyword?&amp;#41;
                       :first-attr-value &amp;#40;s/? ::s/any&amp;#41;
                       :rest &amp;#40;s/&amp;#42; ::s/any&amp;#41;&amp;#41;&amp;#41;

&amp;#40;s/def ::columns &amp;#40;s/cat :column &amp;#40;s/+ &amp;#40;s/spec ::column&amp;#41;&amp;#41;&amp;#41;&amp;#41;

&amp;#40;s/def ::entity-description &amp;#40;s/keys :req-un &amp;#91;::name ::columns&amp;#93;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;;schema
&amp;#40;def column-types &amp;#40;s/enum :int :varchar :boolean :text :time :date
                          :char :binary :smallint :bigint :decimal
                          :float :double :real :timestamp&amp;#41;&amp;#41;

&amp;#40;def column {:name                        Str :type column-types
             &amp;#40;s/optional-key :null&amp;#41;       Bool
             &amp;#40;s/optional-key :max-length&amp;#41; Num
             &amp;#40;s/optional-key :required&amp;#41;   Bool
             &amp;#40;s/optional-key :pk&amp;#41;         Bool
             &amp;#40;s/optional-key :autoinc&amp;#41;    Bool
             &amp;#40;s/optional-key :unique&amp;#41;     Bool
             &amp;#40;s/optional-key :default&amp;#41;    Any
             &amp;#40;s/optional-key :refs&amp;#41;       Str
             &amp;#40;s/optional-key :fkname&amp;#41;     Str}&amp;#41;

&amp;#40;def columns &amp;#91;column&amp;#93;&amp;#41;

&amp;#40;def entity-description {:name Str :columns columns}&amp;#41;

;;clojure.spec
&amp;#40;s/def ::name string?&amp;#41;

&amp;#40;s/def ::entityname string?&amp;#41;
&amp;#40;s/def ::entity-ns string?&amp;#41;
&amp;#40;s/def ::ns string?&amp;#41;
&amp;#40;s/def ::colname string?&amp;#41;
&amp;#40;s/def ::colname-fn string?&amp;#41;
&amp;#40;s/def ::ds-column &amp;#40;s/keys :req-un &amp;#91;::colname ::colname-fn&amp;#93;&amp;#41;&amp;#41;
&amp;#40;s/def ::cols &amp;#40;s/cat :cols &amp;#40;s/+ ::ds-column&amp;#41;&amp;#41;&amp;#41;
&amp;#40;s/def ::template-map &amp;#40;s/keys :req-un &amp;#91;::entityname ::entity-ns ::ns ::cols&amp;#93;&amp;#41;&amp;#41;

&amp;#40;s/def ::column-types #{:int :varchar :boolean :text :time :date
                        :char :binary :smallint :bigint :decimal
                        :float :double :real :timestamp}&amp;#41;


&amp;#40;s/def ::type ::column-types&amp;#41;
&amp;#40;s/def ::null #&amp;#40;instance? Boolean %&amp;#41;&amp;#41;
&amp;#40;s/def ::max-length number?&amp;#41;
&amp;#40;s/def ::required #&amp;#40;instance? Boolean %&amp;#41;&amp;#41;
&amp;#40;s/def ::pk #&amp;#40;instance? Boolean %&amp;#41;&amp;#41;
&amp;#40;s/def ::autoinc #&amp;#40;instance? Boolean %&amp;#41;&amp;#41;
&amp;#40;s/def ::unique #&amp;#40;instance? Boolean %&amp;#41;&amp;#41;
&amp;#40;s/def ::default ::s/any&amp;#41;
&amp;#40;s/def ::refs string?&amp;#41;
&amp;#40;s/def ::fk-name string?&amp;#41;

&amp;#40;s/def ::column &amp;#40;s/keys :req-un &amp;#91;::name ::type&amp;#93;
                        :opt-un &amp;#91;::null ::max-length ::required ::pk 
                        ::autoinc ::unique ::default
                                 ::refs ::fkname&amp;#93;&amp;#41;&amp;#41;
&amp;#40;s/def ::columns &amp;#40;s/cat :column &amp;#40;s/&amp;#42; ::column&amp;#41;&amp;#41;&amp;#41;

&amp;#40;s/def ::entity-description &amp;#40;s/keys :req-un &amp;#91;::name ::columns&amp;#93;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see, the declaration itself for such a small spec contains  more code, this is due to the way maps are defined. The big advantage here is reuseability. I cannot tell if this comes true or not. For me, I did not  see it yet, but, its a small library and time will tell.  &lt;/p&gt;&lt;p&gt;Another big feature is the integration with test.check, so this is on my todo list for now and you should have a look into it too.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;I forgot about one thing. Some datatypes are missing, the one that hit me was &lt;code&gt;boolean&lt;/code&gt;. I defined it as &lt;code&gt;#&amp;#40;instance? Boolean %&amp;#41;&lt;/code&gt;. However, one  drawback is that no generator for this exists.&lt;br /&gt; Currently there are two solutions:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn boolean? &amp;#91;x&amp;#93; &amp;#40;instance? Boolean x&amp;#41;&amp;#41;
&amp;#40;s/def ::boolean &amp;#40;s/with-gen boolean? #&amp;#40;gen/boolean&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;As it is shown in: &lt;a href=&quot;http://clojure.org/guides/spec#&lt;i&gt;generators&quot;&gt;http://clojure.org/guides/spec#&lt;/i&gt;generators&lt;/a&gt;&lt;p&gt;Or, the solution that I prefer for now:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;s/def ::boolean &amp;#40;s/or :t true? :f false?&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;Originally I had this code here: &lt;code&gt;&amp;#40;s/def ::boolean #{true? false?}&amp;#41;&lt;/code&gt;, whichdoes not work, but somehow I missed to see the failed tests. Anyway, theabove code works, this time for real ;)&lt;p&gt;Both works for generating example datasets.&lt;/p&gt;
</description>
<pubDate>
Sat, 28 May 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2016-04-14-closp-documentation.html
</guid>
<link>
http://tales.sveri.de/posts/2016-04-14-closp-documentation.html
</link>
<title>
Closp Documentation
</title>
<description>
 &lt;h1&gt;&lt;a name=&quot;getting&amp;#95;started&amp;#95;with&amp;#95;clojure&amp;#95;web&amp;#95;development&quot;&gt;&lt;/a&gt;Getting Started with Clojure Web Development&lt;/h1&gt;&lt;p&gt;I have finally managed to start documenting web develompent with closp.&lt;br /&gt; You can find the first chapters here: &lt;a href=&quot;http://closp.net&quot;&gt;http://closp.net&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>
Thu, 14 Apr 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2016-04-08-closp-release.html
</guid>
<link>
http://tales.sveri.de/posts/2016-04-08-closp-release.html
</link>
<title>
Closp 0.1.28 and closp-crud 0.2.0 Release
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;closp&quot;&gt;&lt;/a&gt;CLOSP&lt;/h2&gt;&lt;p&gt;A leiningen template combining several useful libraries for clojure and clojurescript web development:  &lt;a href=&quot;https://github.com/sveri/closp&quot;&gt;https://github.com/sveri/closp&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Due to the work on a graphical interface for closp-crud there is a breaking change:&lt;br /&gt; Every selmer template has add the &lt;code&gt;templates&lt;/code&gt; folder now like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;{% extends &amp;quot;templates/base.html&amp;quot; %}
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;a name=&quot;closp-crud&quot;&gt;&lt;/a&gt;CLOSP-CRUD&lt;/h2&gt;&lt;p&gt;A clojure library to generate CRUD files for database operations: &lt;a href=&quot;https://github.com/sveri/closp-crud&quot;&gt;https://github.com/sveri/closp-crud&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;breaking&amp;#95;change&quot;&gt;&lt;/a&gt;Breaking Change&lt;/h3&gt;&lt;p&gt;I completely threw away the idea of using UUIDs as database identifiers. I thought long and hard about that and finally came to the conclusion that the net gain was not worth the confusion it brought.&lt;br /&gt; So instead closp-crud generates the database table as defined in the entity definition. &lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;other&amp;#95;changes&quot;&gt;&lt;/a&gt;Other Changes&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Closp-crud switched from providing core.typed annotations to using plumatic schema instead.&lt;/li&gt;&lt;li&gt;Fixed some bugs&lt;/li&gt;&lt;/ul&gt;
</description>
<pubDate>
Fri, 08 Apr 2016 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-09-06-strategy-pattern-clojure.html
</guid>
<link>
http://tales.sveri.de/posts/2015-09-06-strategy-pattern-clojure.html
</link>
<title>
Strategy pattern in clojure
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;disclaimer&quot;&gt;&lt;/a&gt;Disclaimer&lt;/h2&gt;&lt;p&gt;This is the first part of an ongoing series. I am currently working through Head First Design Patterns to refresh my memory and while the examples are mostly in Java I want to take a look at them and see how to code them in clojure.&lt;br /&gt; That said, most people want to argue that &lt;code&gt;design patterns&lt;/code&gt; are not mostly not needed in a functional programming  language. But for me a &lt;code&gt;design pattern&lt;/code&gt; is an idea or a concept and both of these can be coded in any language and here I will show how.&lt;br /&gt; That aside, please be aware that it is often impossible to translate object oriented patterns into a functional  style, hence, what you see here are approaches or examples that you can use, but only a subset of them. &lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;definition&quot;&gt;&lt;/a&gt;Definition&lt;/h2&gt;&lt;p&gt;The Strategy Pattern defines a family of algorithms, encapsulates each one, and makes them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;java&amp;#95;implementation&quot;&gt;&lt;/a&gt;Java Implementation&lt;/h2&gt;&lt;p&gt;In the book we have two different kinds of classes: &lt;/p&gt;&lt;ol&gt;&lt;li&gt;An abstract &lt;code&gt;Duck&lt;/code&gt; class with it's concrete implementations:&lt;ul&gt;&lt;li&gt;&lt;code&gt;MallardDuck&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;ReadheadDuck&lt;/code&gt;&lt;/li&gt;&lt;li&gt;...&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Behaviors &lt;code&gt;FlyBehavior&lt;/code&gt; and &lt;code&gt;QuackBehavior&lt;/code&gt; as interfaces with it's concrete implementations:&lt;ul&gt;&lt;li&gt;&lt;code&gt;FlyWithWings&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;FlyNoWay&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;Quack&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;Squeak&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;MuteQuack&lt;/code&gt;  &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;The Duck class contains references to the behaviors:  &lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;performQuack&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;performFly&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;A &lt;code&gt;swim&lt;/code&gt; method with a concrete implementation valid for all subclasses, a &lt;code&gt;setXXX&lt;/code&gt; Method to change the behavior during  runtime and finally an abstract &lt;code&gt;display&lt;/code&gt; method to be defined by the implementors.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;clojure&amp;#95;implementation&quot;&gt;&lt;/a&gt;Clojure implementation&lt;/h2&gt;  &lt;br /&gt;&lt;pre&gt;&lt;code&gt;; Two different fly behaviors
&amp;#40;defn fly-with-wings &amp;#91;&amp;#93; &amp;#40;println &amp;quot;Flying with wings.&amp;quot;&amp;#41;&amp;#41;
&amp;#40;defn fly-no-way &amp;#91;&amp;#93; &amp;#40;println &amp;quot;Poor duck cannot fly.&amp;quot;&amp;#41;&amp;#41;

; Three different Quack behaviors
&amp;#40;defn quack-duck &amp;#91;&amp;#93; &amp;#40;println &amp;quot;Duck is Quacking.&amp;quot;&amp;#41;&amp;#41;
&amp;#40;defn squeak-duck &amp;#91;&amp;#93; &amp;#40;println &amp;quot;Duck is Squeaking.&amp;quot;&amp;#41;&amp;#41;
&amp;#40;defn mute-duck &amp;#91;&amp;#93; &amp;#40;println &amp;quot;Duck is quiet.&amp;quot;&amp;#41;&amp;#41;

; Define a relationship, this means that rubber-duck `is-a` duck
&amp;#40;derive ::rubber-duck ::duck&amp;#41;

; Define two Duck entities with different flay and quack behaviors
&amp;#40;def rubber-duck {:type ::rubber-duck :fly-fn fly-no-way :quack-fn quack-duck}&amp;#41;
&amp;#40;def mallard-duck {:type ::mallard-duck :fly-fn fly-with-wings :quack-fn squeak-duck}&amp;#41;

; Swim function, does the same for all ducks
&amp;#40;defn swim &amp;#91;duck&amp;#93;
  &amp;#40;println &amp;#40;str &amp;#40;:type duck&amp;#41; &amp;quot; is swimming.&amp;quot;&amp;#41;&amp;#41;&amp;#41;

; Fly function, accepting a duck entity and calling the defined fly behavior
&amp;#40;defn fly &amp;#91;duck&amp;#93;
  &amp;#40;&amp;#40;:fly-fn duck&amp;#41;&amp;#41;&amp;#41;

; Quack function, accepting a duck entity and calling the defined fly behavior
&amp;#40;defn quack &amp;#91;duck&amp;#93;
  &amp;#40;&amp;#40;:quack-fn duck&amp;#41;&amp;#41;&amp;#41;

; Display function, dispatching on the type of the duck and executing different actions
&amp;#40;defmulti display &amp;#40;fn &amp;#91;duck&amp;#93; &amp;#40;:type duck&amp;#41;&amp;#41;&amp;#41;

&amp;#40;defmethod display ::rubber-duck &amp;#91;duck&amp;#93;
  &amp;#40;println &amp;quot;Displaying Rubber Duck.&amp;quot;&amp;#41;&amp;#41;

&amp;#40;defmethod display ::mallard-duck &amp;#91;duck&amp;#93;
  &amp;#40;println &amp;quot;Displaying Mallard Duck.&amp;quot;&amp;#41;&amp;#41;

&amp;#40;swim rubber-duck&amp;#41;
&amp;#40;swim mallard-duck&amp;#41;

&amp;#40;fly rubber-duck&amp;#41;
&amp;#40;fly mallard-duck&amp;#41;

&amp;#40;quack rubber-duck&amp;#41;
&amp;#40;quack mallard-duck&amp;#41;

&amp;#40;display rubber-duck&amp;#41;
&amp;#40;display mallard-duck&amp;#41;

; Output
;
;:de.sveri.designpatterns.chapterone.core/rubber-duck is swimming.
;:de.sveri.designpatterns.chapterone.core/mallard-duck is swimming.
;Poor duck cannot fly.
;Flying with wings.
;Duck is Quacking.
;Duck is Squeaking.
;Displaying Rubber Duck.
;Displaying Mallard Duck.

&lt;/code&gt;&lt;/pre&gt;One aspect of the pattern is that you can change behavior during runtime. To do that you have &lt;code&gt;setXXX&lt;/code&gt; methods in the &lt;code&gt;Duck&lt;/code&gt; class. In clojure you can do this by using the &lt;code&gt;assoc&lt;/code&gt; method on a duck entity:&lt;pre&gt;&lt;code&gt;&amp;#40;def another-rubber-duck &amp;#40;assoc rubber-duck :fly-fn fly-with-wings&amp;#41;&amp;#41;
&amp;#40;fly another-rubber-duck&amp;#41;

&lt;/code&gt;&lt;/pre&gt;This creates a new duck entity with a different fly behavior. This is due to the fact that clojure makes use ofimmutable data structures.&lt;br /&gt;That is also the thing that strikes me about the Java example. Changing implementation of a thing during runtime surely has it's usages, but I like to avoid using setters as long as possible, wich it is most of the times.&lt;br /&gt;So the clojure approach is very much approved here.
</description>
<pubDate>
Sun, 06 Sep 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-08-30-worst-stacktrace.html
</guid>
<link>
http://tales.sveri.de/posts/2015-08-30-worst-stacktrace.html
</link>
<title>
Worst Stacktrace ever?
</title>
<description>
 &lt;p&gt;As always I am taking a look here and there what's new at the web development frontier and so I generated a project using jhipster.&lt;br /&gt; Overall I have a good first impression and then I wanted to create a self referencing entity. It did not work the way I thought it might and this is how jhipster, or whatever lib threw that stacktrace, told me I made a mistake somwhere.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Working daily with java I have seen bad things but 512 lines stacktrace is new for me. It looks like things have just gone from bad to worse.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;java&quot;&gt;
&amp;#91;ERROR&amp;#93; org.springframework.boot.context.embedded.tomcat.TomcatStarter - Error starting Tomcat context: org.springframework.beans.factory.BeanCreationException
&amp;#91;WARN&amp;#93; org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt
org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:133&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.context.support.AbstractApplicationContext.refresh&amp;#40;AbstractApplicationContext.java:474&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh&amp;#40;EmbeddedWebApplicationContext.java:118&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.SpringApplication.refresh&amp;#40;SpringApplication.java:686&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.SpringApplication.run&amp;#40;SpringApplication.java:320&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at de.sveri.mct.Application.main&amp;#40;Application.java:72&amp;#41; &amp;#91;main/:na&amp;#93;
Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize&amp;#40;TomcatEmbeddedServletContainer.java:98&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&amp;lt;init&amp;gt;&amp;#40;TomcatEmbeddedServletContainer.java:75&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:378&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:155&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer&amp;#40;EmbeddedWebApplicationContext.java:157&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:130&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	... 5 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:368&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.getOrderedBeansOfType&amp;#40;ServletContextInitializerBeans.java:209&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:165&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:160&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAdaptableBeans&amp;#40;ServletContextInitializerBeans.java:143&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.&amp;lt;init&amp;gt;&amp;#40;ServletContextInitializerBeans.java:74&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans&amp;#40;EmbeddedWebApplicationContext.java:234&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize&amp;#40;EmbeddedWebApplicationContext.java:221&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000&amp;#40;EmbeddedWebApplicationContext.java:84&amp;#41; &amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup&amp;#40;EmbeddedWebApplicationContext.java:206&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatStarter.onStartup&amp;#40;TomcatStarter.java:54&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.apache.catalina.core.StandardContext.startInternal&amp;#40;StandardContext.java:5156&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.util.LifecycleBase.start&amp;#40;LifecycleBase.java:150&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1409&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1399&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at java.util.concurrent.FutureTask.run&amp;#40;FutureTask.java:266&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.util.concurrent.ThreadPoolExecutor.runWorker&amp;#40;ThreadPoolExecutor.java:1142&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run&amp;#40;ThreadPoolExecutor.java:617&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.lang.Thread.run&amp;#40;Thread.java:745&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:649&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:164&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString&amp;#40;AbstractBeanFactory.java:1365&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:957&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:606&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:523&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:512&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.security.config.annotation.web.configuration.AutowiredWebSecurityConfigurersIgnoreParents.getWebSecurityConfigurers&amp;#40;AutowiredWebSecurityConfigurersIgnoreParents.java:52&amp;#41; &amp;#126;&amp;#91;spring-security-config-4.0.1.RELEASE.jar:4.0.1.RELEASE&amp;#93;
	at sun.reflect.NativeMethodAccessorImpl.invoke0&amp;#40;Native Method&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at sun.reflect.NativeMethodAccessorImpl.invoke&amp;#40;NativeMethodAccessorImpl.java:62&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke&amp;#40;DelegatingMethodAccessorImpl.java:43&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.lang.reflect.Method.invoke&amp;#40;Method.java:483&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute&amp;#40;ReflectiveMethodExecutor.java:112&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal&amp;#40;MethodReference.java:129&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference.access$000&amp;#40;MethodReference.java:49&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue&amp;#40;MethodReference.java:342&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal&amp;#40;CompoundExpression.java:88&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue&amp;#40;SpelNodeImpl.java:120&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.standard.SpelExpression.getValue&amp;#40;SpelExpression.java:242&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:161&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 62 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 64 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:313&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:129&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues&amp;#40;AbstractAutowireCapableBeanFactory.java:1477&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1222&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 77 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:359&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:108&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments&amp;#40;ConstructorResolver.java:634&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:444&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1574&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:539&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:351&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 98 common frames omitted
Caused by: javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException&amp;#40;EntityManagerFactoryBuilderImpl.java:1249&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.access$600&amp;#40;EntityManagerFactoryBuilderImpl.java:120&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:860&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:850&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl&amp;#40;ClassLoaderServiceImpl.java:425&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build&amp;#40;EntityManagerFactoryBuilderImpl.java:849&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory&amp;#40;SpringHibernateJpaPersistenceProvider.java:60&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory&amp;#40;LocalContainerEntityManagerFactoryBean.java:343&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet&amp;#40;AbstractEntityManagerFactoryBean.java:318&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods&amp;#40;AbstractAutowireCapableBeanFactory.java:1633&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1570&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 105 common frames omitted
Caused by: org.hibernate.AnnotationException: Unknown mappedBy in: de.sveri.mct.domain.Topic.topic, referenced property unknown: de.sveri.mct.domain.Topic.topic
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass&amp;#40;OneToOneSecondPass.java:160&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.originalSecondPassCompile&amp;#40;Configuration.java:1697&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.secondPassCompile&amp;#40;Configuration.java:1426&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.buildSessionFactory&amp;#40;Configuration.java:1846&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:857&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	... 113 common frames omitted
&amp;#91;ERROR&amp;#93; org.springframework.boot.SpringApplication - Application startup failed
org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:133&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.context.support.AbstractApplicationContext.refresh&amp;#40;AbstractApplicationContext.java:474&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh&amp;#40;EmbeddedWebApplicationContext.java:118&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.SpringApplication.refresh&amp;#40;SpringApplication.java:686&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.SpringApplication.run&amp;#40;SpringApplication.java:320&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at de.sveri.mct.Application.main&amp;#40;Application.java:72&amp;#41; &amp;#91;main/:na&amp;#93;
Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize&amp;#40;TomcatEmbeddedServletContainer.java:98&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&amp;lt;init&amp;gt;&amp;#40;TomcatEmbeddedServletContainer.java:75&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:378&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:155&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer&amp;#40;EmbeddedWebApplicationContext.java:157&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:130&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	... 5 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:368&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.getOrderedBeansOfType&amp;#40;ServletContextInitializerBeans.java:209&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:165&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:160&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAdaptableBeans&amp;#40;ServletContextInitializerBeans.java:143&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.&amp;lt;init&amp;gt;&amp;#40;ServletContextInitializerBeans.java:74&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans&amp;#40;EmbeddedWebApplicationContext.java:234&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize&amp;#40;EmbeddedWebApplicationContext.java:221&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000&amp;#40;EmbeddedWebApplicationContext.java:84&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup&amp;#40;EmbeddedWebApplicationContext.java:206&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.springframework.boot.context.embedded.tomcat.TomcatStarter.onStartup&amp;#40;TomcatStarter.java:54&amp;#41; &amp;#126;&amp;#91;spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE&amp;#93;
	at org.apache.catalina.core.StandardContext.startInternal&amp;#40;StandardContext.java:5156&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.util.LifecycleBase.start&amp;#40;LifecycleBase.java:150&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1409&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1399&amp;#41; &amp;#126;&amp;#91;tomcat-embed-core-8.0.23.jar:8.0.23&amp;#93;
	at java.util.concurrent.FutureTask.run&amp;#40;FutureTask.java:266&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.util.concurrent.ThreadPoolExecutor.runWorker&amp;#40;ThreadPoolExecutor.java:1142&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run&amp;#40;ThreadPoolExecutor.java:617&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.lang.Thread.run&amp;#40;Thread.java:745&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:649&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:164&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString&amp;#40;AbstractBeanFactory.java:1365&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:957&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:606&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:523&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:512&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.security.config.annotation.web.configuration.AutowiredWebSecurityConfigurersIgnoreParents.getWebSecurityConfigurers&amp;#40;AutowiredWebSecurityConfigurersIgnoreParents.java:52&amp;#41; &amp;#126;&amp;#91;spring-security-config-4.0.1.RELEASE.jar:4.0.1.RELEASE&amp;#93;
	at sun.reflect.NativeMethodAccessorImpl.invoke0&amp;#40;Native Method&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at sun.reflect.NativeMethodAccessorImpl.invoke&amp;#40;NativeMethodAccessorImpl.java:62&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke&amp;#40;DelegatingMethodAccessorImpl.java:43&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at java.lang.reflect.Method.invoke&amp;#40;Method.java:483&amp;#41; &amp;#126;&amp;#91;na:1.8.0&amp;#95;25&amp;#93;
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute&amp;#40;ReflectiveMethodExecutor.java:112&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal&amp;#40;MethodReference.java:129&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference.access$000&amp;#40;MethodReference.java:49&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue&amp;#40;MethodReference.java:342&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal&amp;#40;CompoundExpression.java:88&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue&amp;#40;SpelNodeImpl.java:120&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.expression.spel.standard.SpelExpression.getValue&amp;#40;SpelExpression.java:242&amp;#41; &amp;#126;&amp;#91;spring-expression-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:161&amp;#41; &amp;#126;&amp;#91;spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 40 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 62 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 64 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:313&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:129&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues&amp;#40;AbstractAutowireCapableBeanFactory.java:1477&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1222&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 77 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:359&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:108&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments&amp;#40;ConstructorResolver.java:634&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:444&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 90 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1574&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:539&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:351&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 98 common frames omitted
Caused by: javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException&amp;#40;EntityManagerFactoryBuilderImpl.java:1249&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.access$600&amp;#40;EntityManagerFactoryBuilderImpl.java:120&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:860&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:850&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl&amp;#40;ClassLoaderServiceImpl.java:425&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build&amp;#40;EntityManagerFactoryBuilderImpl.java:849&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory&amp;#40;SpringHibernateJpaPersistenceProvider.java:60&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory&amp;#40;LocalContainerEntityManagerFactoryBean.java:343&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet&amp;#40;AbstractEntityManagerFactoryBean.java:318&amp;#41; &amp;#126;&amp;#91;spring-orm-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods&amp;#40;AbstractAutowireCapableBeanFactory.java:1633&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1570&amp;#41; &amp;#126;&amp;#91;spring-beans-4.1.6.RELEASE.jar:4.1.6.RELEASE&amp;#93;
	... 105 common frames omitted
Caused by: org.hibernate.AnnotationException: Unknown mappedBy in: de.sveri.mct.domain.Topic.topic, referenced property unknown: de.sveri.mct.domain.Topic.topic
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass&amp;#40;OneToOneSecondPass.java:160&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.originalSecondPassCompile&amp;#40;Configuration.java:1697&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.secondPassCompile&amp;#40;Configuration.java:1426&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.cfg.Configuration.buildSessionFactory&amp;#40;Configuration.java:1846&amp;#41; &amp;#126;&amp;#91;hibernate-core-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:857&amp;#41; &amp;#126;&amp;#91;hibernate-entitymanager-4.3.10.Final.jar:4.3.10.Final&amp;#93;
	... 113 common frames omitted
Exception in thread &amp;quot;main&amp;quot; org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:133&amp;#41;
	at org.springframework.context.support.AbstractApplicationContext.refresh&amp;#40;AbstractApplicationContext.java:474&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh&amp;#40;EmbeddedWebApplicationContext.java:118&amp;#41;
	at org.springframework.boot.SpringApplication.refresh&amp;#40;SpringApplication.java:686&amp;#41;
	at org.springframework.boot.SpringApplication.run&amp;#40;SpringApplication.java:320&amp;#41;
	at de.sveri.mct.Application.main&amp;#40;Application.java:72&amp;#41;
Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize&amp;#40;TomcatEmbeddedServletContainer.java:98&amp;#41;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&amp;lt;init&amp;gt;&amp;#40;TomcatEmbeddedServletContainer.java:75&amp;#41;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:378&amp;#41;
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer&amp;#40;TomcatEmbeddedServletContainerFactory.java:155&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer&amp;#40;EmbeddedWebApplicationContext.java:157&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh&amp;#40;EmbeddedWebApplicationContext.java:130&amp;#41;
	... 5 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:368&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.getOrderedBeansOfType&amp;#40;ServletContextInitializerBeans.java:209&amp;#41;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:165&amp;#41;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAsRegistrationBean&amp;#40;ServletContextInitializerBeans.java:160&amp;#41;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.addAdaptableBeans&amp;#40;ServletContextInitializerBeans.java:143&amp;#41;
	at org.springframework.boot.context.embedded.ServletContextInitializerBeans.&amp;lt;init&amp;gt;&amp;#40;ServletContextInitializerBeans.java:74&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans&amp;#40;EmbeddedWebApplicationContext.java:234&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize&amp;#40;EmbeddedWebApplicationContext.java:221&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000&amp;#40;EmbeddedWebApplicationContext.java:84&amp;#41;
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup&amp;#40;EmbeddedWebApplicationContext.java:206&amp;#41;
	at org.springframework.boot.context.embedded.tomcat.TomcatStarter.onStartup&amp;#40;TomcatStarter.java:54&amp;#41;
	at org.apache.catalina.core.StandardContext.startInternal&amp;#40;StandardContext.java:5156&amp;#41;
	at org.apache.catalina.util.LifecycleBase.start&amp;#40;LifecycleBase.java:150&amp;#41;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1409&amp;#41;
	at org.apache.catalina.core.ContainerBase$StartChild.call&amp;#40;ContainerBase.java:1399&amp;#41;
	at java.util.concurrent.FutureTask.run&amp;#40;FutureTask.java:266&amp;#41;
	at java.util.concurrent.ThreadPoolExecutor.runWorker&amp;#40;ThreadPoolExecutor.java:1142&amp;#41;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run&amp;#40;ThreadPoolExecutor.java:617&amp;#41;
	at java.lang.Thread.run&amp;#40;Thread.java:745&amp;#41;
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer&amp;#40;org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List&amp;#41; throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:649&amp;#41;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41;
	... 34 more
Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:164&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString&amp;#40;AbstractBeanFactory.java:1365&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:957&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:606&amp;#41;
	... 36 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:199&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:523&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType&amp;#40;DefaultListableBeanFactory.java:512&amp;#41;
	at org.springframework.security.config.annotation.web.configuration.AutowiredWebSecurityConfigurersIgnoreParents.getWebSecurityConfigurers&amp;#40;AutowiredWebSecurityConfigurersIgnoreParents.java:52&amp;#41;
	at sun.reflect.NativeMethodAccessorImpl.invoke0&amp;#40;Native Method&amp;#41;
	at sun.reflect.NativeMethodAccessorImpl.invoke&amp;#40;NativeMethodAccessorImpl.java:62&amp;#41;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke&amp;#40;DelegatingMethodAccessorImpl.java:43&amp;#41;
	at java.lang.reflect.Method.invoke&amp;#40;Method.java:483&amp;#41;
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute&amp;#40;ReflectiveMethodExecutor.java:112&amp;#41;
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal&amp;#40;MethodReference.java:129&amp;#41;
	at org.springframework.expression.spel.ast.MethodReference.access$000&amp;#40;MethodReference.java:49&amp;#41;
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue&amp;#40;MethodReference.java:342&amp;#41;
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal&amp;#40;CompoundExpression.java:88&amp;#41;
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue&amp;#40;SpelNodeImpl.java:120&amp;#41;
	at org.springframework.expression.spel.standard.SpelExpression.getValue&amp;#40;SpelExpression.java:242&amp;#41;
	at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate&amp;#40;StandardBeanExpressionResolver.java:161&amp;#41;
	... 40 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService de.sveri.mct.config.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41;
	... 62 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:334&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1210&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41;
	... 64 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private de.sveri.mct.repository.UserRepository de.sveri.mct.security.UserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:561&amp;#41;
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject&amp;#40;InjectionMetadata.java:88&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues&amp;#40;AutowiredAnnotationBeanPostProcessor.java:331&amp;#41;
	... 75 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '&amp;#40;inner bean&amp;#41;#58e814e6' of type &amp;#91;org.springframework.orm.jpa.SharedEntityManagerCreator&amp;#93; while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:313&amp;#41;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:129&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues&amp;#40;AbstractAutowireCapableBeanFactory.java:1477&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1222&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:537&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates&amp;#40;DefaultListableBeanFactory.java:1120&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency&amp;#40;DefaultListableBeanFactory.java:1044&amp;#41;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency&amp;#40;DefaultListableBeanFactory.java:942&amp;#41;
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject&amp;#40;AutowiredAnnotationBeanPostProcessor.java:533&amp;#41;
	... 77 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '&amp;#40;inner bean&amp;#41;#58e814e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:359&amp;#41;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary&amp;#40;BeanDefinitionValueResolver.java:108&amp;#41;
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments&amp;#40;ConstructorResolver.java:634&amp;#41;
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod&amp;#40;ConstructorResolver.java:444&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod&amp;#40;AbstractAutowireCapableBeanFactory.java:1119&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance&amp;#40;AbstractAutowireCapableBeanFactory.java:1014&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:504&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean&amp;#40;BeanDefinitionValueResolver.java:299&amp;#41;
	... 90 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource &amp;#91;org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class&amp;#93;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1574&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean&amp;#40;AbstractAutowireCapableBeanFactory.java:539&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean&amp;#40;AbstractAutowireCapableBeanFactory.java:476&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject&amp;#40;AbstractBeanFactory.java:303&amp;#41;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton&amp;#40;DefaultSingletonBeanRegistry.java:230&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean&amp;#40;AbstractBeanFactory.java:299&amp;#41;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean&amp;#40;AbstractBeanFactory.java:194&amp;#41;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference&amp;#40;BeanDefinitionValueResolver.java:351&amp;#41;
	... 98 more
Caused by: javax.persistence.PersistenceException: &amp;#91;PersistenceUnit: default&amp;#93; Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException&amp;#40;EntityManagerFactoryBuilderImpl.java:1249&amp;#41;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.access$600&amp;#40;EntityManagerFactoryBuilderImpl.java:120&amp;#41;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:860&amp;#41;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:850&amp;#41;
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl&amp;#40;ClassLoaderServiceImpl.java:425&amp;#41;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build&amp;#40;EntityManagerFactoryBuilderImpl.java:849&amp;#41;
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory&amp;#40;SpringHibernateJpaPersistenceProvider.java:60&amp;#41;
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory&amp;#40;LocalContainerEntityManagerFactoryBean.java:343&amp;#41;
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet&amp;#40;AbstractEntityManagerFactoryBean.java:318&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods&amp;#40;AbstractAutowireCapableBeanFactory.java:1633&amp;#41;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean&amp;#40;AbstractAutowireCapableBeanFactory.java:1570&amp;#41;
	... 105 more
Caused by: org.hibernate.AnnotationException: Unknown mappedBy in: de.sveri.mct.domain.Topic.topic, referenced property unknown: de.sveri.mct.domain.Topic.topic
	at org.hibernate.cfg.OneToOneSecondPass.doSecondPass&amp;#40;OneToOneSecondPass.java:160&amp;#41;
	at org.hibernate.cfg.Configuration.originalSecondPassCompile&amp;#40;Configuration.java:1697&amp;#41;
	at org.hibernate.cfg.Configuration.secondPassCompile&amp;#40;Configuration.java:1426&amp;#41;
	at org.hibernate.cfg.Configuration.buildSessionFactory&amp;#40;Configuration.java:1846&amp;#41;
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform&amp;#40;EntityManagerFactoryBuilderImpl.java:857&amp;#41;
	... 113 more
Disconnected from the target VM, address: '127.0.0.1:54986', transport: 'socket'

Process finished with exit code 1


&lt;/code&gt;&lt;/pre&gt;
</description>
<pubDate>
Sun, 30 Aug 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-07-31-closp-release.html
</guid>
<link>
http://tales.sveri.de/posts/2015-07-31-closp-release.html
</link>
<title>
Closp Release 0.1.20
</title>
<description>
 &lt;h1&gt;&lt;a name=&quot;closp&quot;&gt;&lt;/a&gt;CLOSP&lt;/h1&gt;&lt;p&gt;A leiningen template combining several useful libraries for clojure and clojurescript web development:  &lt;a href=&quot;https://github.com/sveri/closp&quot;&gt;https://github.com/sveri/closp&lt;/a&gt;&lt;/p&gt;&lt;p&gt;There were several releases between the last announcement and this one, some of which had known issues in the administrator view. So for this release I concentrated mainly on stabilization by adding several integration tests for the user and administration workflow.&lt;/p&gt;&lt;p&gt;Other notable features:&lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Internationalization support with tower (starting to translate some of closps strings)&lt;/li&gt;&lt;li&gt;Adding test2junit to generate junit test results&lt;/li&gt;&lt;li&gt;Rename &lt;code&gt;db.users&lt;/code&gt; to &lt;code&gt;db.user&lt;/code&gt;&lt;/li&gt;&lt;li&gt;Recaptcha configuration now available in closp.edn&lt;/li&gt;&lt;li&gt;Providing react.js (0.12.1) and jquery (2.0.3) as local files instead of cdn provided (FIX #6)&lt;/li&gt;&lt;li&gt;Updating dependencies&lt;ul&gt;&lt;li&gt;[clojure &quot;1.7.0&quot;]&lt;/li&gt;&lt;li&gt;[ring &quot;1.4.0&quot;]&lt;/li&gt;&lt;li&gt;[compojure &quot;1.4.0&quot;]&lt;/li&gt;&lt;li&gt;[selmer &quot;0.8.5&quot;]&lt;/li&gt;&lt;li&gt;[buddy/buddy-auth &quot;0.6.0&quot;]&lt;/li&gt;&lt;li&gt;[buddy/buddy-hashers &quot;0.6.0&quot;]&lt;/li&gt;&lt;li&gt;[korma &quot;0.4.2&quot;]&lt;/li&gt;&lt;li&gt;[org.xerial/sqlite-jdbc &quot;3.8.10.1&quot;]&lt;/li&gt;&lt;li&gt;[datascript &quot;0.11.6&quot;]&lt;/li&gt;&lt;li&gt;[ring/ring-devel &quot;1.4.0&quot;]&lt;/li&gt;&lt;li&gt;[pjstadig/humane-test-output &quot;0.7.0&quot;]&lt;/li&gt;&lt;li&gt;[closp-crud &quot;0.1.3&quot;]&lt;/li&gt;&lt;li&gt;[bootstrap &quot;3.35&quot;]&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
</description>
<pubDate>
Fri, 31 Jul 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-06-07-closp-release.html
</guid>
<link>
http://tales.sveri.de/posts/2015-06-07-closp-release.html
</link>
<title>
Closp Release 0.1.15
</title>
<description>
&lt;p&gt;I did two releases of &lt;a href=&quot;https://github.com/sveri/closp&quot;&gt;https://github.com/sveri/closp&lt;/a&gt; in the last week, the second one being more of a bug fix release.  The goal of the last changes was to eliminate some libraries like piggieback and get a cleaner figwheel experience.&lt;br /&gt; While I was doing that I also updated to clojure 1.70-RC1 and added a very small reader conditionals example  while removing the cljx support.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Figwheel needs to be started in a separate REPL now. However, if one needs, I guess, one could still start it in the REPL process inside the IDE where the main process is running.&lt;/p&gt;&lt;p&gt;I am still thinking about moving closp to luminus, but just do not have the time for a major change like this  right now, so, we will see :-)&lt;/p&gt;
</description>
<pubDate>
Sun, 07 Jun 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-06-01-tetris-10.html
</guid>
<link>
http://tales.sveri.de/posts/2015-06-01-tetris-10.html
</link>
<title>
Tetris in clojurescript and re-frame Part 10 - Missing Bits
</title>
<description>
 &lt;p&gt;Now that defined the basic building blocks we will put it all together and deliver the missing bits. &lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;core.cljs&quot;&gt;&lt;/a&gt;core.cljs&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/resources/templates/tetris/index.html&quot;&gt;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/resources/templates/tetris/index.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Here we have the UI defined. It just draws the canvas and the score div. It is also responsible for drawing any updates to the UI.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;handlers.cljs&quot;&gt;&lt;/a&gt;handlers.cljs&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/handlers.cljs&quot;&gt;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/handlers.cljs&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Here we defined all the handlers that act whenever an event occurs.&lt;br /&gt; One thing I did not explain yet are these lines: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn grid-changed-mw &amp;#91;app-state&amp;#93;
  &amp;#40;minios/draw-grid &amp;#40;:grid-state app-state&amp;#41; &amp;#40;:ctx app-state&amp;#41;&amp;#41;&amp;#41;
  
&amp;#40;register-handler
  :...
  &amp;#40;rf/after grid-changed-mw&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This calls the middleware function &lt;i&gt;after&lt;/i&gt; from re-frame which will execute the given function after the  register-handler was executed. In this case we will draw the grid everytime it did change, or if we assume it did  change.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;subs.cljs&quot;&gt;&lt;/a&gt;subs.cljs&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/subs.cljs&quot;&gt;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/subs.cljs&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Here you find the subcriptions for every time a specified app state changes.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;tetriminios.cljs&quot;&gt;&lt;/a&gt;tetriminios.cljs&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/tetriminios.cljs&quot;&gt;https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/tetriminios.cljs&lt;/a&gt;&lt;/p&gt;&lt;p&gt;And here you can find the business logic for the tetris related stuff.&lt;/p&gt;
</description>
<pubDate>
Mon, 01 Jun 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-26-tetris-9.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-26-tetris-9.html
</link>
<title>
Tetris in clojurescript and re-frame Part 9 - Game Ticker
</title>
<description>
 &lt;p&gt;Now we need to define what happens every &quot;round&quot; of the game. In Tetris this just means that the current active tetriminio will drop by 1 on the y axis until it reaches the bottom or another tetriminion on the grid.&lt;br /&gt; For this we have three functions. &lt;/p&gt;&lt;p&gt;&lt;i&gt;move-tick&lt;/i&gt; will check if the tetriminion is allowed to move one step down and if so, moves it one step down&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn- move-tick &amp;#91;app-state&amp;#93;
  &amp;#40;let &amp;#91;cur-active &amp;#40;:cur-active app-state&amp;#41;
        cur-grid &amp;#40;:grid-state app-state&amp;#41;
        remove-cur-grid &amp;#40;minios/draw-tet cur-active minios/tet-recipe 0 cur-grid&amp;#41;&amp;#93;    
    &amp;#40;if &amp;#40;minios/is-move-allowed? &amp;#40;update-in cur-active &amp;#91;:y&amp;#93; + 1&amp;#41; cur-active remove-cur-grid minios/tet-recipe&amp;#41;
      &amp;#40;let &amp;#91;moved-active &amp;#40;update-in cur-active &amp;#91;:y&amp;#93; + 1&amp;#41;
            moved-grid &amp;#40;minios/draw-tet moved-active minios/tet-recipe 1 remove-cur-grid&amp;#41;&amp;#93;
        &amp;#40;assoc app-state :grid-state moved-grid :cur-active moved-active&amp;#41;&amp;#41;
      &amp;#40;let &amp;#91;new-act &amp;#40;minios/get-rand-tetriminio&amp;#41;&amp;#93;
        &amp;#40;if &amp;#40;minios/is-move-allowed? &amp;#40;update-in new-act &amp;#91;:y&amp;#93; + 1&amp;#41; cur-active cur-grid minios/tet-recipe&amp;#41;
          &amp;#40;assoc app-state :cur-active new-act&amp;#41;
          &amp;#40;do &amp;#40;dispatch &amp;#91;:game-over&amp;#93;&amp;#41; app-state&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;i&gt;check-lvl&lt;/i&gt; just checks if a level up is reached and if so, increases the level count and decreases the timer.               &lt;/p&gt;  &lt;br /&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn check-lvl &amp;#91;app-state new-points&amp;#93;
  &amp;#40;when &amp;#40;&amp;lt; &amp;#40;&amp;#42; 10 &amp;#40;:lvl app-state&amp;#41;&amp;#41; &amp;#40;+ new-points &amp;#40;:score app-state&amp;#41;&amp;#41;&amp;#41; &amp;#40;dispatch &amp;#91;:next-lvl&amp;#93;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Whenever the &lt;strong&gt;:game-sec-tick&lt;/strong&gt; event is dispatched we move the tetriminio one step down, check if we have to  update the score and update the level if needed.&lt;br /&gt; As you can see, we do that by updating the app state, which is then returned from the handler.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-handler
  :game-sec-tick
  &amp;#40;rf/after grid-changed-mw&amp;#41;
  &amp;#40;fn &amp;#91;app-state&amp;#93;
    &amp;#40;let &amp;#91;moved-app-state &amp;#40;move-tick app-state&amp;#41;
          new-points &amp;#40;minios/count-points &amp;#40;:grid-state moved-app-state&amp;#41;&amp;#41;&amp;#93;
      &amp;#40;check-lvl moved-app-state new-points&amp;#41;
      &amp;#40;update-in
        &amp;#40;assoc moved-app-state :grid-state &amp;#40;minios/remove-full-lines &amp;#40;:grid-state moved-app-state&amp;#41;&amp;#41;&amp;#41;
        &amp;#91;:score&amp;#93; + new-points&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here we have a few more functions needed for our game logic, to count the points and to remove the full lines.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Transpose the 2d vec:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn transpose &amp;#91;xs&amp;#93; &amp;#40;apply map vector xs&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Does the vec contain zero?     &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn wanted? &amp;#91;xs&amp;#93; &amp;#40;some zero? xs&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Fill the vec with zeros after removing them.     &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn lpad &amp;#91;n xs&amp;#93; &amp;#40;vec &amp;#40;concat &amp;#40;repeat &amp;#40;- n &amp;#40;count xs&amp;#41;&amp;#41; 0&amp;#41; xs&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And, tie the functions together:     &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn remove-full-lines &amp;#91;xs&amp;#93;
  &amp;#40;let &amp;#91;n &amp;#40;count &amp;#40;first xs&amp;#41;&amp;#41;&amp;#93;
    &amp;#40;vec &amp;#40;map &amp;#40;partial lpad n&amp;#41; &amp;#40;transpose &amp;#40;filter wanted? &amp;#40;transpose xs&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;

&amp;#40;defn count-points &amp;#91;xs&amp;#93;
  &amp;#40;count &amp;#40;filter #&amp;#40;not &amp;#40;some zero? %&amp;#41;&amp;#41; &amp;#40;transpose xs&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;br /&gt;
</description>
<pubDate>
Tue, 26 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-25-tetris-8.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-25-tetris-8.html
</link>
<title>
Tetris in clojurescript and re-frame Part 8 - Subscriptions
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;register-sub&quot;&gt;&lt;/a&gt;register-sub&lt;/h2&gt;&lt;p&gt;The last building block in re-frame are the subscriptions. This is to notify the UI if something in the app state changes. These are all we need for now.   &lt;/p&gt;&lt;p&gt;The first checks if the application is initialized or not.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-sub :initalized? &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93; &amp;#40;reaction &amp;#40;:initalized? @db&amp;#41;&amp;#41;&amp;#41;&amp;#41;

&lt;/code&gt;&lt;/pre&gt;The second checks if the game was started or not.&lt;pre&gt;&lt;code&gt;&amp;#40;register-sub :started? &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93; &amp;#40;reaction &amp;#40;:started? @db&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The third checks if the game is paused or not.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-sub :paused? &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93; &amp;#40;reaction &amp;#40;:paused? @db&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And the last one is triggered whenever the score of the game changed.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-sub :score &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93; &amp;#40;reaction &amp;#40;:score @db&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now we redefine our layout function from part 2:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn core &amp;#91;&amp;#93;
  &amp;#40;let &amp;#91;tet-width &amp;quot;200px&amp;quot;
        initalized? &amp;#40;rf/subscribe &amp;#91;:initalized?&amp;#93;&amp;#41;
        score &amp;#40;rf/subscribe &amp;#91;:score&amp;#93;&amp;#41;&amp;#93;
    &amp;#40;if initalized?
      &amp;#91;:div.row
       &amp;#91;:div.col-md-3
        &amp;#91;:canvas#tetris-canv {:height &amp;quot;400px&amp;quot; :width tet-width :style {:background-color &amp;quot;#444444&amp;quot;}}&amp;#93;
        &amp;#91;:div#score {:style {:background-color &amp;quot;#CCCCCC&amp;quot; :width tet-width}} &amp;#40;str &amp;quot;Score: &amp;quot; @score&amp;#41;&amp;#93;&amp;#93;
       &amp;#91;:div.col-md-3
        &amp;#40;let &amp;#91;started? @&amp;#40;rf/subscribe &amp;#91;:started?&amp;#93;&amp;#41;
              paused? @&amp;#40;rf/subscribe &amp;#91;:paused?&amp;#93;&amp;#41;&amp;#93;
          &amp;#91;:div
           &amp;#91;:button.btn.btn-primary
            {:on-click &amp;#40;cond &amp;#40;not started?&amp;#41; #&amp;#40;rf/dispatch &amp;#91;:start-game&amp;#93;&amp;#41;
                             paused? #&amp;#40;rf/dispatch &amp;#91;:unpause-game&amp;#93;&amp;#41;
                             &amp;#40;not paused?&amp;#41; #&amp;#40;rf/dispatch &amp;#91;:pause-game&amp;#93;&amp;#41;&amp;#41;}
            &amp;#40;cond &amp;#40;not started?&amp;#41; &amp;quot;Start&amp;quot; paused? &amp;quot;Continue&amp;quot; &amp;#40;not paused?&amp;#41; &amp;quot;Pause&amp;quot;&amp;#41;&amp;#93;
           &amp;#91;:br&amp;#93;
           &amp;#91;:button.btn.btn-primary {:on-click #&amp;#40;rf/dispatch &amp;#91;:restart-game&amp;#93;&amp;#41;} &amp;quot;Restart&amp;quot;&amp;#93;&amp;#93;&amp;#41;&amp;#93;&amp;#93;
      &amp;#91;:h4 &amp;quot;Loading...&amp;quot;&amp;#93;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can see the added &lt;i&gt;(rf/subscribe [:...])&lt;/i&gt; functions which refer to the &lt;i&gt;(register-sub ...)&lt;/i&gt; definitions made before. Now whenever the app state changes the UI will be actualized. This is the part that reagent is  responsible for (which wraps react.js).&lt;/p&gt;
</description>
<pubDate>
Mon, 25 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-24-tetris-7.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-24-tetris-7.html
</link>
<title>
Tetris in clojurescript and re-frame Part 7 - Collision Detection
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;is&amp;#95;move&amp;#95;allowed?&quot;&gt;&lt;/a&gt;Is Move Allowed?&lt;/h2&gt; &lt;p&gt; In the last chapter we already used the &lt;i&gt;is-move-allowed?&lt;/i&gt; function. There are four functions at all taking care  of it.&lt;br /&gt;  &lt;/p&gt;&lt;p&gt; The first one just checks the boundaries and if none tetriminio is defined at that position:  &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn is-moving-part-allowed? &amp;#91;x y grid&amp;#93;
  &amp;#40;and &amp;#40;&amp;lt;= 0 x&amp;#41; &amp;#40;&amp;lt; x 10&amp;#41; &amp;#40;&amp;lt;= 0 y&amp;#41; &amp;#40;&amp;lt; y 20&amp;#41; &amp;#40;= 0 &amp;#40;get-in grid &amp;#91;x y&amp;#93;&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The second one makes use of the function definitions. If a x or y key exists in the map if will apply the function to the old x or y value. If not, it just returns the old one. This is how we update the four blocks:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn move-x-y &amp;#91;x y rec&amp;#93;
  &amp;#40;let &amp;#91;x' &amp;#40;if &amp;#40;get rec :x&amp;#41; &amp;#40;&amp;#40;get rec :x&amp;#41; x&amp;#41; x&amp;#41;
        y' &amp;#40;if &amp;#40;get rec :y&amp;#41; &amp;#40;&amp;#40;get rec :y&amp;#41; y&amp;#41; y&amp;#41;&amp;#93;
    {:x x' :y y'}&amp;#41;&amp;#41;
    
&amp;#40;defn realize-move &amp;#91;x y t grid&amp;#93; &amp;#40;assoc-in grid &amp;#91;x y&amp;#93; t&amp;#41;&amp;#41;


&lt;/code&gt;&lt;/pre&gt;This draws one tetriminio in the grid according to the tetriminio definition:&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn draw-tet &amp;#91;{:keys &amp;#91;x y t o&amp;#93; :as cur-tet} tet-recipe d grid&amp;#93;
  &amp;#40;let &amp;#91;new-position &amp;#40;map #&amp;#40;move-x-y x y %&amp;#41; &amp;#40;get-in tet-recipe &amp;#91;t o&amp;#93;&amp;#41;&amp;#41;&amp;#93;
      &amp;#40;reduce &amp;#40;fn &amp;#91;a b&amp;#93; &amp;#40;realize-move &amp;#40;:x b&amp;#41; &amp;#40;:y b&amp;#41; &amp;#40;&amp;#42; t d&amp;#41; a&amp;#41;&amp;#41; grid new-position&amp;#41;&amp;#41;&amp;#41;

&lt;/code&gt;&lt;/pre&gt;&lt;i&gt;is-move-allowed?&lt;/i&gt; basically only calls the functions defined above for every single block and returns true orfalse:&lt;br /&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn is-move-allowed? &amp;#91;{:keys &amp;#91;x y t o&amp;#93;} cur-active grid tet-recipe&amp;#93;
  &amp;#40;let &amp;#91;new-position &amp;#40;map #&amp;#40;move-x-y x y %&amp;#41; &amp;#40;get-in tet-recipe &amp;#91;t o&amp;#93;&amp;#41;&amp;#41;
        removed-grid &amp;#40;draw-tet cur-active tet-recipe 0 grid&amp;#41;&amp;#93;
    &amp;#40;h/not-in? &amp;#40;map #&amp;#40;is-moving-part-allowed? &amp;#40;:x %&amp;#41; &amp;#40;:y %&amp;#41; removed-grid&amp;#41; new-position&amp;#41; false&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;
</description>
<pubDate>
Sun, 24 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-24-tetris-6.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-24-tetris-6.html
</link>
<title>
Tetris in clojurescript and re-frame Part 6 - User Interaction
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;event&amp;#95;handler&quot;&gt;&lt;/a&gt;Event Handler&lt;/h2&gt;&lt;p&gt;In the &lt;strong&gt;:initialise-db&lt;/strong&gt; register handler we also define the following code:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;set! &amp;#40;.-onkeydown js/document&amp;#41; keydown&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This will call the &lt;i&gt;keydown&lt;/i&gt; function whenever a key is pressed and the window has the focus. It looks like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-handler
  :keypressed
  &amp;#40;rf/after grid-changed-mw&amp;#41;
  &amp;#40;fn &amp;#91;app-state &amp;#91;&amp;#95; e&amp;#93;&amp;#93;
    &amp;#40;condp = &amp;#40;.-keyCode e&amp;#41;
      37 &amp;#40;move-on-keypress app-state #&amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:x&amp;#93; - 1&amp;#41;&amp;#41;
      38 &amp;#40;move-on-keypress app-state #&amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:o&amp;#93; &amp;#40;fn &amp;#91;old&amp;#93; &amp;#40;mod &amp;#40;+ 1 old&amp;#41; 4&amp;#41;&amp;#41;&amp;#41;&amp;#41;
      39 &amp;#40;move-on-keypress app-state #&amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:x&amp;#93; + 1&amp;#41;&amp;#41;
      40 &amp;#40;move-on-keypress app-state #&amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:y&amp;#93; + 1&amp;#41;&amp;#41;
      32 &amp;#40;do &amp;#40;dispatch &amp;#91;:move-one-down&amp;#93;&amp;#41; app-state&amp;#41;
      80 &amp;#40;do &amp;#40;if &amp;#40;:paused? app-state&amp;#41; &amp;#40;dispatch &amp;#91;:unpause-game&amp;#93;&amp;#41; &amp;#40;dispatch &amp;#91;:pause-game&amp;#93;&amp;#41;&amp;#41; app-state&amp;#41;
      app-state&amp;#41;&amp;#41;&amp;#41;

&amp;#40;defn keydown &amp;#91;e&amp;#93;
  &amp;#40;when &amp;#40;h/in? &amp;#91;32 37 38 39 40&amp;#93; &amp;#40;.-keyCode e&amp;#41;&amp;#41; &amp;#40;.preventDefault e&amp;#41;&amp;#41;
  &amp;#40;dispatch &amp;#91;:keypressed e&amp;#93;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We will only prevent the default action if the up, down, left, right, p or space key was pressed,  then we call dispatch again and call the &lt;i&gt;:keypressed&lt;/i&gt; handler.&lt;br /&gt; This calls the &lt;i&gt;move-on-keypress&lt;/i&gt; function which looks like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn move-on-keypress &amp;#91;app-state move-fn&amp;#93;
  &amp;#40;let &amp;#91;cur-active &amp;#40;:cur-active app-state&amp;#41;
        cur-grid &amp;#40;:grid-state app-state&amp;#41;
        remove-cur-grid &amp;#40;minios/draw-tet cur-active minios/tet-recipe 0 cur-grid&amp;#41;&amp;#93;
    &amp;#40;if &amp;#40;minios/is-move-allowed? &amp;#40;move-fn&amp;#41; cur-active cur-grid minios/tet-recipe&amp;#41;
      &amp;#40;assoc app-state :cur-active &amp;#40;move-fn&amp;#41; :grid-state &amp;#40;minios/draw-tet &amp;#40;move-fn&amp;#41; minios/tet-recipe 1 remove-cur-grid&amp;#41;&amp;#41;
      app-state&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;It checks whether the move is allowed and if so, updates the app state:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;:cur-active update the active tetriminio position&lt;/li&gt;&lt;li&gt;:grid-state the updated grid state with the moved active tetriminio&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;If the move is not allowed, it will return the unchanged app state, making sure we cannot move the tetrimino outside of the grid or over existing borders.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;space&amp;#95;key&quot;&gt;&lt;/a&gt;Space Key&lt;/h2&gt;&lt;p&gt;If we press the space key we want to move the tetriminio down to the lowest allowed position. To do this we dispatch on the &lt;strong&gt;:move-one-down&lt;/strong&gt; event with the regarding handler:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-handler
  :move-one-down
  &amp;#40;rf/after grid-changed-mw&amp;#41;
  &amp;#40;fn &amp;#91;app-state &amp;#95;&amp;#93;
    &amp;#40;when &amp;#40;minios/is-move-allowed? &amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:y&amp;#93; + 2&amp;#41; &amp;#40;:cur-active app-state&amp;#41;
                                   &amp;#40;:grid-state app-state&amp;#41; minios/tet-recipe&amp;#41;
      &amp;#40;dispatch &amp;#91;:move-one-down&amp;#93;&amp;#41;&amp;#41;
    &amp;#40;move-on-keypress app-state #&amp;#40;update-in &amp;#40;:cur-active app-state&amp;#41; &amp;#91;:y&amp;#93; + 1&amp;#41;&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As long as the down move is allowed it will dispatch on itself again with the side effect of moving one position down.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;p&amp;#95;key&quot;&gt;&lt;/a&gt;P Key&lt;/h2&gt;&lt;p&gt;The &lt;strong&gt;P&lt;/strong&gt; key will pause or unpause the game, dispatching on &lt;strong&gt;:pause-game&lt;/strong&gt; or &lt;strong&gt;:unpause-game&lt;/strong&gt; respectively:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;register-handler
  :pause-game
  &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93;
    &amp;#40;. &amp;#40;:timer db&amp;#41; &amp;#40;stop&amp;#41;&amp;#41;
    &amp;#40;assoc db :paused? true&amp;#41;&amp;#41;&amp;#41;

&amp;#40;register-handler
  :unpause-game
  &amp;#40;fn &amp;#91;db &amp;#95;&amp;#93;
    &amp;#40;. &amp;#40;:timer db&amp;#41; &amp;#40;start&amp;#41;&amp;#41;
    &amp;#40;assoc db :paused? false&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;It just stops or starts the timer which controls the game speed and updates the app states &lt;strong&gt;:paused&lt;/strong&gt; key.&lt;/p&gt;
</description>
<pubDate>
Sun, 24 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-23-tetris-5.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-23-tetris-5.html
</link>
<title>
Tetris in clojurescript and re-frame Part 5 - Tetriminios
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;types&quot;&gt;&lt;/a&gt;Types&lt;/h2&gt;&lt;p&gt;There are seven tetriminio types each one defined by a number from 1 to 7. &lt;ul&gt;&lt;li&gt;1 I&lt;/li&gt;&lt;li&gt;2 L&lt;/li&gt;&lt;li&gt;3 J&lt;/li&gt;&lt;li&gt;4 O&lt;/li&gt;&lt;li&gt;5 S&lt;/li&gt;&lt;li&gt;6 T&lt;/li&gt;&lt;li&gt;7 S&lt;/li&gt;&lt;/ul&gt;So when the grid contains the number 1 it will draw the &lt;strong&gt;I&lt;/strong&gt; type at that place.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Each Tetrimino has an orientation defined by numbers 0 to 4.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;tetriminio&amp;#95;drawing&amp;#95;definitions&quot;&gt;&lt;/a&gt;Tetriminio Drawing Definitions&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;def tet-recipe
      {1 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 2&amp;#41;}&amp;#93;
          1 &amp;#91;{:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 2&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 2&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:y #&amp;#40;- % 2&amp;#41;}&amp;#93;}
       2 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;}
       3 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;}&amp;#93;}
       4 {0 &amp;#91;{} {:x #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{} {:x #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{} {:x #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{} {:x #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;}
       5 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:y #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;} {:y #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;}&amp;#93;}
       6 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41;}&amp;#93;}
       7 {0 &amp;#91;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;+ % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;}&amp;#93;
          1 &amp;#91;{:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          2 &amp;#91;{:x #&amp;#40;- % 1&amp;#41;} {} {:y #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;+ % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;
          3 &amp;#91;{:y #&amp;#40;+ % 1&amp;#41;} {} {:x #&amp;#40;- % 1&amp;#41;} {:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;- % 1&amp;#41;}&amp;#93;}}&amp;#41;
          
&lt;/code&gt;&lt;/pre&gt;This is a map of a map of vecs containing anonymous functions for the type and orientation that will then be appliedin the function call drawing a specific tetriminio. The first key of the nested map is the tetriminio type and the second key the orientation.&lt;br /&gt;So whenever we want to draw type &lt;i&gt;S&lt;/i&gt; with orientation &lt;i&gt;0&lt;/i&gt; we will take this for functions:&lt;br /&gt;&lt;pre&gt;&lt;code&gt;{:x #&amp;#40;- % 1&amp;#41; :y #&amp;#40;+ % 1&amp;#41;} {:y #&amp;#40;+ % 1&amp;#41;} {} {:x #&amp;#40;+ % 1&amp;#41;}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;{:x #(- % 1) :y #(+ % 1)} means that for the first block we will subtract x by 1 and add 1 to y.&lt;/li&gt;&lt;li&gt;{:y #(+ % 1)} Here we will add 1 to y and leave x like it is&lt;/li&gt;&lt;li&gt;{} Leave x and y like they are&lt;/li&gt;&lt;li&gt;{:x #(+ % 1)} Add 1 to x and leave y like it is.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This all is in respect to the grid state. So we just move the tetriminio on the grid by applying these functions.&lt;/p&gt;&lt;p&gt;The beauty of this definition is that we could easily add more tetriminios in the map which will just work out of the box.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;active&amp;#95;tetriminio&quot;&gt;&lt;/a&gt;Active Tetriminio&lt;/h2&gt;&lt;p&gt;The current active tetriminio (the one that can be moved) will be stored in the application state as a map like this: &lt;strong&gt;{:x 1 :y 1 :o 0 :t 1}&lt;/strong&gt;. So whenever we pass it around it will be passed as a map.&lt;/p&gt;
</description>
<pubDate>
Sat, 23 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-23-tetris-4.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-23-tetris-4.html
</link>
<title>
Tetris in clojurescript and re-frame Part 4 - Drawing
</title>
<description>
&lt;h2&gt;&lt;a name=&quot;drawing&amp;#95;functions&quot;&gt;&lt;/a&gt;Drawing functions&lt;/h2&gt;&lt;p&gt;There are several drawing functions.&lt;br /&gt; The first one is a helper function taking the canvas and a vector of functions that will be executed.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn draw-block-x &amp;#91;ctx &amp;amp; &amp;#91;line-to-fns&amp;#93;&amp;#93;
  &amp;#40;.beginPath ctx&amp;#41;
  &amp;#40;doseq &amp;#91;f line-to-fns&amp;#93; &amp;#40;f&amp;#41;&amp;#41;
  &amp;#40;.fill ctx&amp;#41;&amp;#41;
                     
&lt;/code&gt;&lt;/pre&gt;These four functions will draw the for single blocks that each tetrimino contains.   &lt;br /&gt;  &lt;br /&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn draw-block-top &amp;#91;x y ctx&amp;#93;
  &amp;#40;draw-block-x ctx &amp;#91;#&amp;#40;.moveTo ctx x y&amp;#41;
                         #&amp;#40;.lineTo ctx &amp;#40;+ 20 x&amp;#41; y&amp;#41;
                         #&amp;#40;.lineTo ctx &amp;#40;+ 18 x&amp;#41; &amp;#40;+ 2 y&amp;#41;&amp;#41;
                         #&amp;#40;.lineTo ctx &amp;#40;+ 2 x&amp;#41; &amp;#40;+ 2 y&amp;#41;&amp;#41;&amp;#93;&amp;#41;&amp;#41;

&amp;#40;defn draw-block-left &amp;#91;x y ctx&amp;#93;
  &amp;#40;draw-block-x ctx &amp;#91;#&amp;#40;.moveTo ctx x y&amp;#41;
                     #&amp;#40;.lineTo ctx x &amp;#40;+ 20 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 2 x&amp;#41; &amp;#40;+ 18 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 2 x&amp;#41; &amp;#40;+ 2 y&amp;#41;&amp;#41;&amp;#93;&amp;#41;&amp;#41;

&amp;#40;defn draw-block-right &amp;#91;x y ctx&amp;#93;
  &amp;#40;draw-block-x ctx &amp;#91;#&amp;#40;.moveTo ctx &amp;#40;+ 20 x&amp;#41; y&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 20 x&amp;#41; &amp;#40;+ 20 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 18 x&amp;#41; &amp;#40;+ 18 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 18 x&amp;#41; &amp;#40;+ 2 y&amp;#41;&amp;#41;&amp;#93;&amp;#41;&amp;#41;

&amp;#40;defn draw-block-bottom &amp;#91;x y ctx&amp;#93;
  &amp;#40;draw-block-x ctx &amp;#91;#&amp;#40;.moveTo ctx x &amp;#40;+ 20 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 20 x&amp;#41; &amp;#40;+ 20 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 18 x&amp;#41; &amp;#40;+ 18 y&amp;#41;&amp;#41;
                     #&amp;#40;.lineTo ctx &amp;#40;+ 2 x&amp;#41; &amp;#40;+ 18 y&amp;#41;&amp;#41;&amp;#93;&amp;#41;&amp;#41;
    
&lt;/code&gt;&lt;/pre&gt;And finally the function to draw a complete tetriminio which will call all four functions to draw the single blocks.&lt;pre&gt;&lt;code&gt;&amp;#40;defn draw-block &amp;#91;x y h ctx&amp;#93;
  &amp;#40;let &amp;#91;x' &amp;#40;&amp;#42; x 20&amp;#41;
        y' &amp;#40;&amp;#42; y 20&amp;#41;&amp;#93;                                        ; &amp;#40;&amp;#42; 20 &amp;#40;- 19 y&amp;#41;&amp;#41;
    &amp;#40;aset ctx &amp;quot;fillStyle&amp;quot; &amp;#40;str &amp;quot;hsl&amp;#40;&amp;quot; h &amp;quot;,100%,50%&amp;#41;&amp;quot;&amp;#41;&amp;#41;
    &amp;#40;.fillRect ctx &amp;#40;+ 2 x'&amp;#41; &amp;#40;+ 2 y'&amp;#41; 16 16&amp;#41;

    &amp;#40;aset ctx &amp;quot;fillStyle&amp;quot; &amp;#40;str &amp;quot;hsl&amp;#40;&amp;quot; h &amp;quot;,100%,70%&amp;#41;&amp;quot;&amp;#41;&amp;#41;
    &amp;#40;draw-block-top x' y' ctx&amp;#41;

    &amp;#40;aset ctx &amp;quot;fillStyle&amp;quot; &amp;#40;str &amp;quot;hsl&amp;#40;&amp;quot; h &amp;quot;,100%,40%&amp;#41;&amp;quot;&amp;#41;&amp;#41;
    &amp;#40;draw-block-left x' y' ctx&amp;#41;

    &amp;#40;draw-block-right x' y' ctx&amp;#41;

    &amp;#40;aset ctx &amp;quot;fillStyle&amp;quot; &amp;#40;str &amp;quot;hsl&amp;#40;&amp;quot; h &amp;quot;,100%,30%&amp;#41;&amp;quot;&amp;#41;&amp;#41;
    &amp;#40;draw-block-bottom x' y' ctx&amp;#41;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The &lt;strong&gt;draw-grid&lt;/strong&gt; function draws the complete tetris grid which has a width of 200px and a height of 400pxs.&lt;br /&gt;  it takes a &lt;strong&gt;grid&lt;/strong&gt; as a param which is a 2 dimensional vector whereas each x-y entry contains the element at that  place of the the grid:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn draw-grid &amp;#91;grid ctx&amp;#93;
  &amp;#40;.clearRect ctx 0 0 200 400&amp;#41;
  &amp;#40;doseq &amp;#91;x &amp;#40;range 10&amp;#41;
          y &amp;#40;range 20&amp;#41;&amp;#93;
    &amp;#40;let &amp;#91;t &amp;#40;get-in grid &amp;#91;x y&amp;#93;&amp;#41;&amp;#93;
      &amp;#40;when-not &amp;#40;= 0 t&amp;#41;
        &amp;#40;draw-block x y &amp;#40;get color-map t&amp;#41; ctx&amp;#41;&amp;#41;&amp;#41;&amp;#41;&amp;#41;  
&lt;/code&gt;&lt;/pre&gt;
</description>
<pubDate>
Sat, 23 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-23-tetris-3.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-23-tetris-3.html
</link>
<title>
Tetris in clojurescript and re-frame Part 3 - App State
</title>
<description>
 &lt;h2&gt;&lt;a name=&quot;app&amp;#95;state&quot;&gt;&lt;/a&gt;App State&lt;/h2&gt;&lt;p&gt;There is a big conceptual difference between javasrcipt and clojurescript (especially in re-frame). Whereas in  javascript you can have as much global state as you want it is discouraged to do so in the cljs-sphere. It is generally advised to have one to a few atoms containing your global application state.&lt;br /&gt; In re-frame it is even more better, you don't declare an atom or global state at all, it is managed by re-frame  completely.&lt;/p&gt;&lt;p&gt;In re-frame there is data flowing in events, this is the general idea, for a very complete documentation, please look here: &lt;a href='https://github.com/Day8/re-frame'&gt;re-frame&lt;/a&gt;&lt;/p&gt;&lt;p&gt;First we will initialize the app state. As you saw in part 2 there is already a call to the dispatch function doing that: &lt;strong&gt;(rf/dispatch [:initialise-db])&lt;/strong&gt;.&lt;/p&gt;&lt;p&gt;Now we will add a new file &lt;strong&gt;handlers.cljs&lt;/strong&gt; with the following content:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn get-clean-db-state &amp;#91;&amp;#93;
  {:ctx            &amp;#40;.getContext &amp;#40;h/get-elem &amp;quot;tetris-canv&amp;quot;&amp;#41; &amp;quot;2d&amp;quot;&amp;#41;
   :grid-state     &amp;#91;&amp;#91;&amp;#93; &amp;#91;&amp;#93;&amp;#93;
   :initialized?   true
   :started?       false
   :grid-h         20
   :grid-w         10
   :start-timestep 1000
   :timestep-dim   0.1}&amp;#41;

&amp;#40;register-handler
  :initialise-db
  &amp;#40;fn &amp;#91;&amp;#95; &amp;#95;&amp;#93;
    &amp;#40;get-clean-db-state&amp;#41;&amp;#41;&amp;#41;
    
&lt;/code&gt;&lt;/pre&gt;The first function returns a map which is the app state of the application after the initialization. This is where westore our &lt;i&gt;global&lt;/i&gt; and &lt;i&gt;local&lt;/i&gt; data. Also you can see that we finally initialize the canvas and also store thatin the app state.&lt;br /&gt;The second function &lt;strong&gt;register-handler&lt;/strong&gt; registers a handler for the &lt;strong&gt;:initialize-db&lt;/strong&gt; event. This will be calledwhenever we call &lt;strong&gt;(re-frame/dispatch [:initialise-db])&lt;/strong&gt; and for now it returns the app state from &lt;strong&gt;get-clean-db-state&lt;/strong&gt;.&lt;p&gt;A &lt;strong&gt;register-handler&lt;/strong&gt; function will always have to return the app state, no matter if it was manipulated or not.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;:ctx is a reference to the canvas element&lt;/li&gt;&lt;li&gt;:grid-state is a 2-dimensional vector which represents the tetris field. Each entry will represent a tetriminio(1 - 7) or nothing (0).&lt;/li&gt;&lt;li&gt;:started? indicates whether the game was started or not&lt;/li&gt;&lt;li&gt;:grid-w and :grid-h are the respective width and height entries&lt;/li&gt;&lt;li&gt;:start-timestep is the time for the ticker at which the game will run.&lt;/li&gt;&lt;li&gt;:timestep-dim is the percentage at that the ticker speed will be reduced after each level up&lt;/li&gt;&lt;/ul&gt;
</description>
<pubDate>
Sat, 23 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-22-tetris-2.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-22-tetris-2.html
</link>
<title>
Tetris in clojurescript and re-frame Part 2 - Basic Layout
</title>
<description>
&lt;h2&gt;&lt;a name=&quot;html&quot;&gt;&lt;/a&gt;HTML&lt;/h2&gt;&lt;p&gt;First he starts with the HTML part for the application. This is the code:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;{% extends &amp;quot;base.html&amp;quot; %}
{% block content %}

&amp;lt;div id=&amp;quot;tetris-main&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
{% endblock %}

{% block js-bottom %}
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;de.sveri.omtet.tetris.core.main&amp;#40;&amp;#41;;&amp;lt;/script&amp;gt;
{% endblock %}    
&lt;/code&gt;&lt;/pre&gt;I am using selmer as a templating engine, so all you see here is the main div where the clojurescript will attach toand the call of the clojurescript tetris main function.&lt;br /&gt;You can find the code here: &lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/resources/templates/tetris/index.html'&gt;index.html&lt;/a&gt;&lt;h2&gt;&lt;a name=&quot;canvas&quot;&gt;&lt;/a&gt;Canvas&lt;/h2&gt;&lt;p&gt;This is where we are already starting to use clojurescript and this differs from the original tutorial. Instead of defining the canvas in plain html we will use reagent for this.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn &amp;#94;:export main &amp;#91;&amp;#93;
  &amp;#40;rf/dispatch &amp;#91;:initialise-db&amp;#93;&amp;#41;
  &amp;#40;reagent/render-component &amp;#40;fn &amp;#91;&amp;#93; &amp;#91;core&amp;#93;&amp;#41; &amp;#40;h/get-elem &amp;quot;tetris-main&amp;quot;&amp;#41;&amp;#41;&amp;#41;   
&lt;/code&gt;&lt;/pre&gt;This is the main function that is called from the html file. It will render a &lt;strong&gt;core&lt;/strong&gt; function on the &lt;strong&gt;tetris-main&lt;/strong&gt; html div. The ^export directive says that the main functions name should not be minimized so that it can be called from the html file.&lt;br /&gt;&lt;p&gt;This is the core function: &lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn core &amp;#91;&amp;#93;
  &amp;#40;let &amp;#91;tet-width &amp;quot;200px&amp;quot;&amp;#93;
    &amp;#91;:div.row
     &amp;#91;:div.col-md-3
      &amp;#91;:canvas#tetris-canv {:height &amp;quot;400px&amp;quot; :width tet-width :style {:background-color &amp;quot;#444444&amp;quot;}}&amp;#93;
      &amp;#91;:div#score {:style {:background-color &amp;quot;#CCCCCC&amp;quot; :width tet-width}} &amp;quot;Score: &amp;quot;&amp;#93;&amp;#93;
     &amp;#91;:div.col-md-3
      &amp;#91;:div
       &amp;#91;:button.btn.btn-primary
        {:on-click #&amp;#40;rf/dispatch &amp;#91;:start-game&amp;#93;&amp;#41;} &amp;quot;Start&amp;quot;&amp;#93;
       &amp;#91;:br&amp;#93;
       &amp;#91;:button.btn.btn-primary {:on-click #&amp;#40;rf/dispatch &amp;#91;:restart-game&amp;#93;&amp;#41;} &amp;quot;Restart&amp;quot;&amp;#93;&amp;#93;&amp;#93;&amp;#93;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;This just defines the HTML structure of the canvas and two buttons. One to start the game and one to restart the game.There is also a Score panel beneath the canvas.&lt;br /&gt;&lt;p&gt;One thing to note here are the &lt;strong&gt;#(rf/dispatch...&lt;/strong&gt; functions. &lt;em&gt;rf&lt;/em&gt; is the re-frame namespace and &lt;em&gt;dispatch&lt;/em&gt; will be called when a click on the respective button was done.&lt;/p&gt;&lt;p&gt;Every &lt;strong&gt;dispatch&lt;/strong&gt; function takes 1..n arguments whereas the first one is always a vector containing the event id path. In these cases: &lt;em&gt;:start-game&lt;/em&gt; and &lt;em&gt;:restart-game&lt;/em&gt;, which do what their name implies.&lt;/p&gt;&lt;p&gt;We will not init the canvas itself yet. This will be done as part of the application state initalization.&lt;/p&gt;
</description>
<pubDate>
Fri, 22 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-21-tetris-1.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-21-tetris-1.html
</link>
<title>
Tetris in clojurescript and re-frame Part 1 - Introduction
</title>
<description>
 &lt;h1&gt;&lt;a name=&quot;introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h1&gt;&lt;p&gt;In the last few weeks I took some time to code tetris with clojurescript and re-frame following this guide:  &lt;a href='http://www.drewbuck.com/tetris-in-html5-for-noobs/'&gt;Tetris in HTML5 for noobs&lt;/a&gt;.&lt;br /&gt; I will write a small series following the same pattern showing how it is done in cljs. What I will not do is explain basic things like the original author did, but instead focus more on the differences between javascript and  clojurescript.&lt;/p&gt;&lt;p&gt;For every beginner I recommend following Drews tutorial as he is more in depth about the basics of everything.&lt;/p&gt;&lt;p&gt;A big thanks to the original author &lt;a href='http://www.drewbuck.com/about/'&gt;Drew Buck&lt;/a&gt; that got showed how to make tetris  work with the HTML 5 canvas feature!&lt;/p&gt;&lt;h1&gt;&lt;a name=&quot;disclaimer&quot;&gt;&lt;/a&gt;Disclaimer&lt;/h1&gt;&lt;p&gt;I have done this as part of a bigger project which you can find here: &lt;a href='https://github.com/sveri/omtet'&gt;omtet&lt;/a&gt;.&lt;br /&gt; I will only mention a few source files in this tutorial, you can safely ignore the rest of it. The relevant files are these:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/resources/templates/tetris/index.html'&gt;index.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/core.cljs'&gt;core.cljs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/handlers.cljs'&gt;handlers.cljs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/subs.cljs'&gt;subs.cljs&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href='https://github.com/sveri/omtet/blob/single&amp;#95;player&amp;#95;0.1/src/cljs/de/sveri/omtet/tetris/tetriminios.cljs'&gt;tetriminios.cljs&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
</description>
<pubDate>
Thu, 21 May 2015 00:00:00 +0200
</pubDate>
</item>
<item>
<guid>
http://tales.sveri.de/posts/2015-05-20-first-post.html
</guid>
<link>
http://tales.sveri.de/posts/2015-05-20-first-post.html
</link>
<title>
First Post
</title>
<description>
&lt;h3&gt;&lt;a name=&quot;first&amp;#95;post&amp;#95;in&amp;#95;my&amp;#95;new&amp;#95;blog&quot;&gt;&lt;/a&gt;First Post in my new blog&lt;/h3&gt;&lt;p&gt;I got tired of wordpress and so decided to play around with &lt;a href='https://github.com/cryogen-project/cryogen'&gt;cryogen&lt;/a&gt;  for static site generation. My old blog of course will be available as usual under &lt;a href=&quot;http://blog.sveri.de&quot;&gt;http://blog.sveri.de&lt;/a&gt;.&lt;/p&gt;
</description>
<pubDate>
Wed, 20 May 2015 00:00:00 +0200
</pubDate>
</item>
</channel>
</rss>
